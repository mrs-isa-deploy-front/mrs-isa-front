{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes: [{\n    path: '/client/home',\n    component: () => import(\"./components/client/clientHomePage.vue\")\n  }, {\n    path: '/client/profile',\n    component: () => import(\"./components/client/clientProfileChange.vue\")\n  }, {\n    path: '/client/history/:type',\n    component: () => import(\"./components/client/clientReservationHistory.vue\")\n  }, {\n    path: '/client/verify/:code',\n    component: () => import(\"./components/client/clientVerified.vue\")\n  }, {\n    path: '/client/site/home',\n    component: () => import(\"./components/main_site/homePageClient.vue\")\n  }, {\n    path: '/instructor/adventures',\n    component: () => import(\"./components/fishing_instructor/allInstructorsAdventures\")\n  }, {\n    path: '/adventures/detail/:type',\n    name: 'adventureForFishingInstructor',\n    component: () => import(\"./components/fishing_instructor/adventureForFishingInstructor\")\n  }, {\n    path: '/instructor/home',\n    component: () => import(\"./components/fishing_instructor/instructorHomePage\")\n  }, {\n    path: '/adventure/add',\n    component: () => import(\"./components/fishing_instructor/addAdventure\")\n  }, {\n    path: '/adventure/update/:type',\n    component: () => import(\"./components/fishing_instructor/updateAdventure.vue\")\n  }, {\n    path: '/book/site/home',\n    component: () => import(\"./components/main_site/homePage.vue\")\n  }, {\n    path: '/book/site/login',\n    component: () => import(\"./components/login.vue\")\n  }, {\n    path: '/book/site/register',\n    component: () => import(\"./components/registerUser.vue\")\n  }, {\n    path: '/book/cottage/site',\n    component: () => import(\"./components/main_site/siteCottageListView.vue\")\n  }, {\n    path: '/book/ship/site',\n    component: () => import(\"./components/main_site/siteShipListView.vue\")\n  }, {\n    path: '/book/adventure/site',\n    component: () => import(\"./components/main_site/siteAdventureListView.vue\")\n  }, {\n    path: '/cottageOwner/profile',\n    component: () => import(\"./components/editProfileCottageOwner\")\n  }, {\n    path: '/cottage/reservations/future/:id',\n    component: () => import(\"./components/cottageOwnerFutureReservationsList\")\n  }, {\n    path: '/cottage/reservations/past/:id',\n    component: () => import(\"./components/cottageOwnerPastReservationsList\")\n  }, {\n    path: '/shipOwner/profile',\n    component: () => import(\"./components/editProfileShipOwner\")\n  }, {\n    path: '/cottageOwner/home',\n    component: () => import(\"./components/homePageCottageOwner\")\n  }, {\n    path: '/shipOwner/home',\n    component: () => import(\"./components/homePageShipOwner\")\n  }, {\n    path: '/owner/cottages',\n    component: () => import(\"./components/cottageList\")\n  }, {\n    path: '/owner/ships',\n    component: () => import(\"./components/shipList\")\n  }, {\n    path: '/cottage/add',\n    component: () => import(\"./components/addCottage.vue\")\n  }, {\n    path: '/ship/add',\n    component: () => import(\"./components/addShip.vue\")\n  }, {\n    path: '/cottage/update/:id',\n    component: () => import(\"./components/updateCottage\")\n  }, {\n    path: '/ship/update/:id',\n    component: () => import(\"./components/updateShip\")\n  }, {\n    path: '/admin/home',\n    component: () => import(\"./components/admin/adminHomePage\")\n  }, {\n    path: '/admin/registration/request',\n    component: () => import(\"./components/admin/requestForRegistration.vue\")\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/book/site/login', '/book/site/register', '/book/site/home', '/book/cottage/site', '/book/ship/site', '/book/adventure/site'];\n  let authRequired = !publicPages.includes(to.path);\n\n  if (to.path.includes('/client/verify/')) {\n    authRequired = false;\n  }\n\n  const loggedIn = localStorage.getItem('user'); // trying to access a restricted page + not logged in\n  // redirect to login page\n\n  if (authRequired && !loggedIn) {\n    next('/book/site/login');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"sources":["D:/fakultet/6.semestar/MRS/Projekat/projekat-login/projekat/mrs-isa-front/src/router.js"],"names":["createRouter","createWebHistory","router","history","process","env","BASE_URL","routes","path","component","name","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":"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","sourcesContent":["import {createRouter, createWebHistory} from \"vue-router\";\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(process.env.BASE_URL),\r\n\r\n    routes:[\r\n        { path: '/client/home', component: () => import(\"./components/client/clientHomePage.vue\")},\r\n        { path: '/client/profile', component: () => import(\"./components/client/clientProfileChange.vue\")},\r\n        { path: '/client/history/:type', component: () => import(\"./components/client/clientReservationHistory.vue\")},\r\n        { path: '/client/verify/:code', component: () => import(\"./components/client/clientVerified.vue\") },\r\n        { path: '/client/site/home', component: () => import(\"./components/main_site/homePageClient.vue\")},\r\n\r\n        { path: '/instructor/adventures', component: () => import(\"./components/fishing_instructor/allInstructorsAdventures\")},\r\n\r\n        {path: '/adventures/detail/:type', name: 'adventureForFishingInstructor', component: () => import(\"./components/fishing_instructor/adventureForFishingInstructor\"),},\r\n        { path: '/instructor/home', component: ()=> import(\"./components/fishing_instructor/instructorHomePage\")},\r\n        { path: '/adventure/add', component: ()=> import(\"./components/fishing_instructor/addAdventure\")},\r\n        { path: '/adventure/update/:type', component: ()=> import(\"./components/fishing_instructor/updateAdventure.vue\")},\r\n\r\n        { path: '/book/site/home', component: () => import(\"./components/main_site/homePage.vue\")},\r\n        { path: '/book/site/login', component: () => import(\"./components/login.vue\")},\r\n        { path:  '/book/site/register', component: () => import(\"./components/registerUser.vue\")},\r\n        { path:  '/book/cottage/site', component: () => import(\"./components/main_site/siteCottageListView.vue\")},\r\n        { path:  '/book/ship/site', component: () => import(\"./components/main_site/siteShipListView.vue\")},\r\n        { path:  '/book/adventure/site', component: () => import(\"./components/main_site/siteAdventureListView.vue\")},\r\n\r\n        { path: '/cottageOwner/profile', component: () => import(\"./components/editProfileCottageOwner\")},\r\n        {path:'/cottage/reservations/future/:id',component:() => import(\"./components/cottageOwnerFutureReservationsList\")},\r\n        {path:'/cottage/reservations/past/:id',component:()=>import(\"./components/cottageOwnerPastReservationsList\")},\r\n        { path: '/shipOwner/profile', component: () => import(\"./components/editProfileShipOwner\")},\r\n        { path: '/cottageOwner/home', component: () => import(\"./components/homePageCottageOwner\")},\r\n        { path: '/shipOwner/home', component: () => import(\"./components/homePageShipOwner\")},\r\n        { path: '/owner/cottages', component: () => import(\"./components/cottageList\")},\r\n        { path: '/owner/ships', component: () => import(\"./components/shipList\")},\r\n        {path:'/cottage/add',component:() => import(\"./components/addCottage.vue\")},\r\n        {path:'/ship/add',component:() => import(\"./components/addShip.vue\")},\r\n        { path: '/cottage/update/:id',component:()=>import(\"./components/updateCottage\")},\r\n        { path: '/ship/update/:id',component:()=>import(\"./components/updateShip\")},\r\n\r\n\r\n        {path:'/admin/home', component:()=>import(\"./components/admin/adminHomePage\")},\r\n        {path:'/admin/registration/request', component:()=> import(\"./components/admin/requestForRegistration.vue\")}\r\n\r\n\r\n    ]\r\n});\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const publicPages = ['/book/site/login', '/book/site/register', '/book/site/home', '/book/cottage/site',\r\n        '/book/ship/site', '/book/adventure/site'];\r\n    let authRequired = !publicPages.includes(to.path);\r\n    if (to.path.includes('/client/verify/')){\r\n        authRequired = false;\r\n    }\r\n    const loggedIn = localStorage.getItem('user');\r\n    // trying to access a restricted page + not logged in\r\n    // redirect to login page\r\n    if (authRequired && !loggedIn) {\r\n        next('/book/site/login');\r\n    } else {\r\n        next();\r\n    }\r\n});\r\n\r\nexport default router\r\n"]},"metadata":{},"sourceType":"module"}