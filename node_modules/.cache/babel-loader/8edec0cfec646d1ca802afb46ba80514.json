{"ast":null,"code":"import changePasswordModal from \"@/components/changePasswordModal\";\nimport deleteAccountModal from \"@/components/deleteAccountModal\";\nimport CottageOwnerService from \"@/servieces/CottageOwnerService\";\nimport ownerHeader from \"@/components/cottageOwnerHeader\";\nexport default {\n  name: \"edit-profile-owner\",\n  components: {\n    changePasswordModal,\n    deleteAccountModal,\n    ownerHeader\n  },\n  created: function () {\n    this.coID = JSON.parse(localStorage.user).id; //this.$route.params.id;\n\n    console.log(this.coID);\n    CottageOwnerService.getOwner(this.coID).then(response => {\n      console.log(response);\n      this.owner = response.data;\n    }).catch(function (error) {\n      console.log(error.toJSON());\n\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        // The request was made but no response was received\n        // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n        // http.ClientRequest in node.js\n        console.log(error.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.log('Error', error.message);\n      }\n\n      console.log(error.config);\n    });\n  },\n\n  mounted() {\n    this.backup = [this.owner.name, this.owner.surname, this.owner.phoneNumber, this.owner.password, this.owner.country, this.owner.longitude, this.owner.latitude];\n  },\n\n  data() {\n    return {\n      showDialog: false,\n      buttonId: \"changePass\",\n      deleteAcc: \"deleteAcc\",\n      deleteHeader: \"Zahtev za brisanje naloga\",\n      changePassHeader: \"Promena lozinke\",\n      owner: {\n        name: \"\",\n        surname: \"\",\n        email: \"\",\n        password: \"\",\n        phoneNumber: \"\",\n        userType: \"\",\n        loyaltyPoints: \"\",\n        penaltyNumber: \"\",\n        benefits: \"\",\n        longitude: \"\",\n        latitude: \"\"\n      }\n    };\n  },\n\n  methods: {\n    updateCoordinats(lon, lat) {\n      this.owner.longitude = lon;\n      this.owner.latitude = lat;\n      console.log(lon, lat);\n    },\n\n    updateProfile() {\n      CottageOwnerService.updateOwner(this.coID, this.owner).then(\"Success\");\n      this.backup[0] = this.owner.name;\n      this.backup[1] = this.owner.surname;\n      this.backup[2] = this.owner.phoneNumber;\n      this.backup[3] = this.owner.password;\n      this.backup[4] = this.owner.longitude;\n      this.backup[5] = this.owner.latitude;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["changePasswordModal","deleteAccountModal","CottageOwnerService","ownerHeader","name","components","created","coID","JSON","parse","localStorage","user","id","console","log","getOwner","then","response","owner","data","catch","error","toJSON","status","headers","request","message","config","mounted","backup","surname","phoneNumber","password","country","longitude","latitude","showDialog","buttonId","deleteAcc","deleteHeader","changePassHeader","email","userType","loyaltyPoints","penaltyNumber","benefits","methods","updateCoordinats","lon","lat","updateProfile","updateOwner"],"sourceRoot":"","sources":["D:\\fakultet\\6.semestar\\MRS\\Projekat\\projekat-login\\projekat\\mrs-isa-front\\src\\components\\editProfileCottageOwner.vue"],"sourcesContent":["<template>\r\n  <ownerHeader></ownerHeader>\r\n    <div><div class=\"header\">\r\n      <deleteAccountModal :index=\"deleteAcc\" :header=\"deleteHeader\"></deleteAccountModal>\r\n      <div id=\"profile\">Moj profil</div>\r\n    </div>\r\n      <!--  Loyality  -->\r\n      <div class=\"loyality\">\r\n        <div class=\"headerLoyality\">Loyality program</div>\r\n        <div class=\"input-box\">\r\n          <span class=\"loyalityDetails\">Broj poena</span><br>\r\n          <input type=\"text\" id=\"loyalityPoints\" v-model=\"owner.loyaltyPoints\"/>\r\n        </div>\r\n\r\n        <div class=\"input-box\">\r\n          <span class=\"loyalityDetails\">Kategorija</span><br>\r\n          <input type=\"text\" id=\"loyalityCategory\" v-model=\"owner.userType\"/>\r\n        </div>\r\n        <br>\r\n        <div id=\"benefits\">\r\n          <p style=\"color:#5F9F9F;font-weight: bold;\">Pogodnosti</p>\r\n          {{owner.benefits}}\r\n          <br>\r\n          <br>\r\n          <br>\r\n\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <!--  Edit profile  -->\r\n      <div class=\"editProfile\">\r\n\r\n        <form action=\"\">\r\n          <div class=\"formdetails\">\r\n            <div id=\"left\">\r\n              <span class=\"details\">Ime</span><br>\r\n              <input type=\"text\" id=\"name\" v-model=\"owner.name\"/><br>\r\n              <span class=\"details\">Prezime</span><br>\r\n              <input type=\"text\" id=\"surname\" v-model=\"owner.surname\"/><br>\r\n              <span class=\"details\">Email</span><br>\r\n              <input type=\"text\" id=\"email\" v-model=\"owner.email\"/><br>\r\n              <span class=\"details\">Broj telefona</span><br>\r\n              <input type=\"text\" id=\"telNumber\" v-model=\"owner.phoneNumber\"/><br>\r\n              <br>\r\n              <changePasswordModal\r\n                  :index=\"buttonId\" :header=\"changePassHeader\"></changePasswordModal>\r\n            </div>\r\n            <div id=\"right\">\r\n              <label>Adresa</label><br>\r\n              <open-maps :lon=\"owner.longitude\" :lat=\"owner.latitude\" @coordinate-changed=\"updateCoordinats\" style=\"width: 300px; height: 300px; margin-left:30px;\"></open-maps>\r\n\r\n            </div>\r\n\r\n            <div id=\"buttonSubmit\">\r\n              <button type=\"button\" class=\"btn\" @click=\"cancel\" style=\"background-color:#31708E;margin-right:50px;color:white;height:50px;width:150px;margin-bottom: 40px;\">Odustani</button>\r\n              <button type=\"button\" class=\"btn\" @click=\"updateProfile\" style=\"background-color:#31708E;color:white;height:50px;width:150px;margin-bottom: 40px;\">Potvrdi izmene</button>\r\n            </div>\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport changePasswordModal from \"@/components/changePasswordModal\";\r\nimport deleteAccountModal from \"@/components/deleteAccountModal\"\r\nimport CottageOwnerService from \"@/servieces/CottageOwnerService\";\r\nimport ownerHeader from \"@/components/cottageOwnerHeader\";\r\nexport default {\r\n  name: \"edit-profile-owner\",\r\n  components:{changePasswordModal, deleteAccountModal, ownerHeader},\r\n  created:\r\n      function () {\r\n        this.coID = JSON.parse(localStorage.user).id;//this.$route.params.id;\r\n        console.log(this.coID);\r\n        CottageOwnerService.getOwner(this.coID)\r\n            .then((response) => {\r\n              console.log(response);\r\n              this.owner = response.data;\r\n            })\r\n            .catch(function (error) {\r\n              console.log(error.toJSON());\r\n              if (error.response) {\r\n                // The request was made and the server responded with a status code\r\n                // that falls out of the range of 2xx\r\n                console.log(error.response.data);\r\n                console.log(error.response.status);\r\n                console.log(error.response.headers);\r\n              } else if (error.request) {\r\n                // The request was made but no response was received\r\n                // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n                // http.ClientRequest in node.js\r\n                console.log(error.request);\r\n              } else {\r\n                // Something happened in setting up the request that triggered an Error\r\n                console.log('Error', error.message);\r\n              }\r\n              console.log(error.config);\r\n            });\r\n      },\r\n  mounted() {\r\n    this.backup = [this.owner.name, this.owner.surname, this.owner.phoneNumber, this.owner.password,\r\n      this.owner.country, this.owner.longitude, this.owner.latitude];\r\n  },\r\n  data(){\r\n    return{\r\n      showDialog:false,\r\n      buttonId : \"changePass\",\r\n      deleteAcc: \"deleteAcc\",\r\n      deleteHeader:\"Zahtev za brisanje naloga\",\r\n      changePassHeader:\"Promena lozinke\",\r\n      owner:{\r\n        name: \"\",\r\n        surname: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        phoneNumber: \"\",\r\n        userType: \"\",\r\n        loyaltyPoints: \"\",\r\n        penaltyNumber: \"\",\r\n        benefits: \"\",\r\n        longitude: \"\",\r\n        latitude: \"\"\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateCoordinats(lon, lat){\r\n      this.owner.longitude = lon;\r\n      this.owner.latitude = lat;\r\n      console.log(lon, lat)\r\n    },\r\n    updateProfile(){\r\n      CottageOwnerService.updateOwner(this.coID,this.owner).then(\"Success\");\r\n      this.backup[0] = this.owner.name;\r\n      this.backup[1] = this.owner.surname;\r\n      this.backup[2] = this.owner.phoneNumber;\r\n      this.backup[3] = this.owner.password;\r\n      this.backup[4] = this.owner.longitude;\r\n      this.backup[5] = this.owner.latitude;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.editProfile{\r\n  text-align:center;\r\n  border: 2px solid black;\r\n  background-color:#E8E8E8;\r\n  font-size: 20px;\r\n  padding: 20px;\r\n  width: 50%;\r\n  height:75%;\r\n  position: absolute;\r\n  left: 65%;\r\n  top: 55%;\r\n  transform: translate(-50%, -50%);\r\n  color: #5F9F9F;\r\n\r\n}\r\n\r\nbody{\r\n  background-color:#00CED1;\r\n}\r\n\r\n#box{\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n\r\n}\r\n\r\n#editButton{\r\n  font-size:25px;\r\n  color: white;\r\n  background-color:#5F9F9F;\r\n  float:right;\r\n}\r\n#cancelButton{\r\n  font-size:25px;\r\n  color: white;\r\n  background-color:red;\r\n  float:left;\r\n}\r\n#buttonSubmit{\r\n  width:100%;\r\n  padding: 30px;\r\n}\r\n.editProfile form .formdetails{\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  margin: 20px 0 12px 0;\r\n}\r\n\r\nform .formdetails .input-box{\r\n  margin-bottom: 15px;\r\n  width: calc(100% / 2 - 20px);\r\n}\r\nform .input-box span .details{\r\n  display: block;\r\n  font-weight: 450;\r\n  margin-bottom: 10px;\r\n}\r\n.formdetails .input-box input{\r\n  height: 45px;\r\n  width: 100%;\r\n  outline: none;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  padding-left: 15px;\r\n  border: 1px solid #ccc;\r\n  border-bottom-width: 2px;\r\n  /* transition: all 0.3s ease;*/\r\n}\r\n.formdetails .input-box input:focus,\r\n.formdetails .input-box input:valid{\r\n  border-color: #9b59b6;\r\n}\r\n\r\n.input-box{\r\n  margin-left:20px;\r\n}\r\nform .details .input-box{\r\n  margin-bottom: 15px;\r\n  width: 100%;\r\n}\r\n\r\n.details{\r\n  float: left;\r\n  font-size: 30px;\r\n}\r\n\r\n.header{\r\n  text-align:center;\r\n  font-size: 35px;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n#profile{\r\n  margin-left:200px;\r\n}\r\n\r\n#buttonSubmit{\r\n  margin: 0;\r\n  position: absolute;\r\n  top: 90%;\r\n  left: 50%;\r\n  -ms-transform: translate(-50%, -50%);\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n\r\n.loyality{\r\n  text-align:center;\r\n  border: 2px solid black;\r\n  background-color:#687864;\r\n  font-size: 20px;\r\n  padding: 20px;\r\n  width: 25%;\r\n  height:75%;\r\n  position: absolute;\r\n  left: 28%;\r\n  top: 55%;\r\n  transform: translate(-50%, -50%);\r\n  color: white;\r\n}\r\n\r\n.loyality .input-box input{\r\n  height: 40px;\r\n  width: 100%;\r\n  outline: none;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  border: 1px solid #ccc;\r\n  border-bottom-width: 2px;\r\n  /* transition: all 0.3s ease;*/\r\n}\r\n\r\n.loyalityDetails{\r\n  float:left;\r\n\r\n}\r\n\r\n.headerLoyality{\r\n  margin-bottom: 20px;\r\n  font-weight: bold;\r\n  font-size:28px;\r\n}\r\n\r\n.loyality .input-box{\r\n  margin-bottom: 15px;\r\n  width: calc(100% / 2);\r\n  font-size:20px;\r\n}\r\n\r\n#benefits{\r\n  border:1px solid white;\r\n\r\n}\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}