{"ast":null,"code":"import axios from 'axios';\nimport Config from \"../config.json\";\nconst AUTH_URL = Config.BASE_URL + '/book/site';\n\nclass LoginServce {\n  login(user) {\n    console.log(JSON.stringify(user));\n    return axios.post(AUTH_URL + \"/login\", JSON.stringify(user), {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (response.data.accessToken) {\n        localStorage.setItem('user', JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n}\n\nexport default new LoginServce();","map":{"version":3,"sources":["D:/fakultet/6.semestar/MRS/Projekat/projekat-login/projekat/mrs-isa-front/src/servieces/LoginServce.js"],"names":["axios","Config","AUTH_URL","BASE_URL","LoginServce","login","user","console","log","JSON","stringify","post","headers","then","response","data","accessToken","localStorage","setItem","logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,MAAMC,QAAQ,GAAGD,MAAM,CAACE,QAAP,GAAkB,YAAnC;;AAEA,MAAMC,WAAN,CAAiB;AACbC,EAAAA,KAAK,CAACC,IAAD,EAAM;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAZ;AACA,WAAON,KAAK,CAACW,IAAN,CAAWT,QAAQ,GAAG,QAAtB,EAAgCO,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAhC,EAAsD;AAACM,MAAAA,OAAO,EAAE;AAC/D,kBAAU,kBADqD;AAE/D,wBAAgB;AAF+C;AAAV,KAAtD,EAIFC,IAJE,CAIGC,QAAQ,IAAG;AACb,UAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA8B;AAC1BC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BT,IAAI,CAACC,SAAL,CAAeI,QAAQ,CAACC,IAAxB,CAA7B;AACH;;AACD,aAAOD,QAAQ,CAACC,IAAhB;AACH,KATE,CAAP;AAUH;;AACDI,EAAAA,MAAM,GAAE;AACJF,IAAAA,YAAY,CAACG,UAAb,CAAwB,MAAxB;AACH;;AAhBY;;AAmBjB,eAAe,IAAIhB,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\n\r\nimport Config from \"../config.json\";\r\n\r\nconst AUTH_URL = Config.BASE_URL + '/book/site';\r\n\r\nclass LoginServce{\r\n    login(user){\r\n        console.log(JSON.stringify(user));\r\n        return axios.post(AUTH_URL + \"/login\", JSON.stringify(user), {headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }})\r\n            .then(response =>{\r\n                if (response.data.accessToken){\r\n                    localStorage.setItem('user', JSON.stringify(response.data));\r\n                }\r\n                return response.data;\r\n            });\r\n    }\r\n    logout(){\r\n        localStorage.removeItem('user');\r\n    }\r\n}\r\n\r\nexport default new LoginServce();\r\n"]},"metadata":{},"sourceType":"module"}