{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex justify-content-center\"\n};\nconst _hoisted_2 = {\n  class: \"table table-striped\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Redni broj\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Ime\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Prezime\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Tip registracije\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Email\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n})])], -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  scope: \"row\"\n};\nconst _hoisted_5 = [\"id\", \"onClick\"];\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_7 = [\"id\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_inputTextModal = _resolveComponent(\"inputTextModal\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.requests, (request, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"th\", _hoisted_4, _toDisplayString(index + 1), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(request.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(request.surname), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(this.showRegistrationType(request.registrationType)), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(request.email), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      id: $options.generateApproveId(request.id),\n      class: \"btn btn-primary\",\n      onClick: $event => $options.ApproveRegistration(request.id)\n    }, \" Prihvati \", 8\n    /* PROPS */\n    , _hoisted_5), _hoisted_6, _createVNode(_component_inputTextModal, {\n      index: $options.generateRejectId(request.id),\n      header: this.modalHeader,\n      requestId: request.id,\n      btnId: $options.generateModalId(request.id),\n      onRejectText: $options.RejectRegistration\n    }, null, 8\n    /* PROPS */\n    , [\"index\", \"header\", \"requestId\", \"btnId\", \"onRejectText\"])]), _createElementVNode(\"td\", null, [_createElementVNode(\"h6\", {\n      id: request.id\n    }, null, 8\n    /* PROPS */\n    , _hoisted_7)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]);\n}","map":{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AAEFA,OAAK,EAAC;;;gCACXC,oBAUQ,OAVR,EAUQ,IAVR,EAUQ,cATRA,oBAQK,IARL,EAQK,IARL,EAQK,cAPHA,oBAA+B,IAA/B,EAA+B;AAA3BC,OAAK,EAAC;AAAqB,CAA/B,EAAgB,YAAhB,CAOG,eANHD,oBAAwB,IAAxB,EAAwB;AAApBC,OAAK,EAAC;AAAc,CAAxB,EAAgB,KAAhB,CAMG,eALHD,oBAA4B,IAA5B,EAA4B;AAAxBC,OAAK,EAAC;AAAkB,CAA5B,EAAgB,SAAhB,CAKG,eAJHD,oBAAqC,IAArC,EAAqC;AAAjCC,OAAK,EAAC;AAA2B,CAArC,EAAgB,kBAAhB,CAIG,eAHHD,oBAA0B,IAA1B,EAA0B;AAAtBC,OAAK,EAAC;AAAgB,CAA1B,EAAgB,OAAhB,CAGG,eAFHD,oBAAqB,IAArB,EAAqB;AAAjBC,OAAK,EAAC;AAAW,CAArB,CAEG,eADHD,oBAAqB,IAArB,EAAqB;AAAjBC,OAAK,EAAC;AAAW,CAArB,CACG,CARL,CASQ,CAVR;;AAAA;;;AAaMA,OAAK,EAAC;;;;;;;;;;uBAhBhBC,oBA4BM,KA5BN,cA4BM,CA1BJF,oBAwBQ,OAxBR,cAwBQ,CAvBNG,UAuBM,EAZNH,oBAWQ,OAXR,EAWQ,IAXR,EAWQ,oBAVRE,oBASKE,SATL,EASK,IATL,EASKC,YAT0BC,eAS1B,EATkC,CAA3BC,OAA2B,EAAlBC,KAAkB,KAAb;yBAA1BN,oBASK,IATL,EASK;AATqCO,SAAG,EAAED;AAS1C,KATL,EAAoD,CAClDR,oBAAgC,IAAhC,cAAgCU,iBAAdF,KAAK,IAAS,CAAhC,EAAuB;AAAA;AAAvB,KADkD,EAElDR,oBAAyB,IAAzB,EAAyB,IAAzB,EAAyBU,iBAAnBH,OAAO,CAACI,IAAW,CAAzB,EAAkB;AAAA;AAAlB,KAFkD,EAGlDX,oBAA4B,IAA5B,EAA4B,IAA5B,EAA4BU,iBAAtBH,OAAO,CAACK,OAAc,CAA5B,EAAqB;AAAA;AAArB,KAHkD,EAIlDZ,oBAAgE,IAAhE,EAAgE,IAAhE,EAAgEU,sBAArDG,oBAAqD,CAAhCN,OAAO,CAACO,gBAAwB,EAAhE,EAAwD;AAAA;AAAxD,KAJkD,EAKlDd,oBAA0B,IAA1B,EAA0B,IAA1B,EAA0BU,iBAApBH,OAAO,CAACQ,KAAY,CAA1B,EAAmB;AAAA;AAAnB,KALkD,EAMlDf,oBACkN,IADlN,EACkN,IADlN,EACkN,CAD7MA,oBACI,QADJ,EACI;AADKgB,QAAE,EAAEC,2BAAkBV,OAAO,CAACS,EAA1B,CACT;AADwCjB,WAAK,EAAC,iBAC9C;AADiEmB,aAAK,YAAED,6BAAoBV,OAAO,CAACS,EAA5B;AACxE,KADJ,EAA6G,YAA7G,EACL;AAAA;AADK,MACLG,UADK,CAC6M,cAAxMC,aAAkMC,yBAAlM,EAAkM;AAAjLb,WAAK,EAAES,0BAAiBV,OAAO,CAACS,EAAzB,CAA0K;AAA3IM,YAAM,OAAOC,WAA8H;AAAhHC,eAAS,EAAEjB,OAAO,CAACS,EAA6F;AAAxFS,WAAK,EAAER,yBAAgBV,OAAO,CAACS,EAAxB,CAAiF;AAAnDU,kBAAW,EAAET;AAAsC,KAAlM;;AAAA,gEAAwM,CADlN,CANkD,EAQlDjB,oBAAmC,IAAnC,EAAmC,IAAnC,EAAmC,CAA/BA,oBAA0B,IAA1B,EAA0B;AAArBgB,QAAE,EAAET,OAAO,CAACS;AAAS,KAA1B;;AAAA,iBAA+B,CAAnC,CARkD,CAApD;GASK,CATL;;AAAA,GAUQ,EAXR,CAYM,CAxBR,CA0BI,CA5BN","names":["class","_createElementVNode","scope","_createElementBlock","_hoisted_3","_Fragment","_renderList","$props","request","index","key","_toDisplayString","name","surname","showRegistrationType","registrationType","email","id","$options","onClick","_hoisted_5","_createVNode","_component_inputTextModal","header","modalHeader","requestId","btnId","onRejectText"],"sourceRoot":"","sources":["D:\\fakultet\\6.semestar\\MRS\\Projekat\\projekat-login\\projekat\\mrs-isa-front\\src\\components\\admin\\registrationRequest.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-flex justify-content-center\">\r\n\r\n    <table class=\"table table-striped\">\r\n      <thead>\r\n      <tr>\r\n        <th scope=\"col\">Redni broj</th>\r\n        <th scope=\"col\">Ime</th>\r\n        <th scope=\"col\">Prezime</th>\r\n        <th scope=\"col\">Tip registracije</th>\r\n        <th scope=\"col\">Email</th>\r\n        <th scope=\"col\"></th>\r\n        <th scope=\"col\"></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"(request, index) in requests\" :key=\"index\">\r\n        <th scope=\"row\">{{index+1}}</th>\r\n        <td>{{request.name}}</td>\r\n        <td>{{request.surname}}</td>\r\n        <td>{{this.showRegistrationType(request.registrationType)}}</td>\r\n        <td>{{request.email}}</td>\r\n        <td> <button :id=\"generateApproveId(request.id)\" class=\"btn btn-primary\" @click=\"ApproveRegistration(request.id)\"> Prihvati\r\n        </button> <inputTextModal :index=\"generateRejectId(request.id)\" :header=\"this.modalHeader\" :requestId=\"request.id\" :btnId=\"generateModalId(request.id)\" @reject-text=\"RejectRegistration\"> </inputTextModal> </td>\r\n        <td><h6 :id=\"request.id\"></h6></td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RegistrationRequestService from \"@/servieces/RegistrationRequestService\";\r\nimport inputTextModal from \"@/components/admin/inputTextModal\";\r\nexport default {\r\n  name: \"registrationRequest.vue\",\r\n  components:{\r\n    inputTextModal\r\n  },\r\n  props: ['requests'],\r\n  methods: {\r\n    showRegistrationType(type) {\r\n      if (type === \"COTTAGE_OWNER\") {\r\n        return this.cottageOwner\r\n      } else if (type === \"SHIP_OWNER\") {\r\n        return this.shipOwner\r\n      } else {\r\n        return this.fishingInstructor\r\n      }\r\n    },\r\n    generateApproveId(id){\r\n      return \"prihvati\"+id;\r\n    },\r\n    generateRejectId(id){\r\n      console.log(\"o\" + id);\r\n      return \"o\"+id;\r\n    },\r\n    generateModalId(id){\r\n      console.log(\"odbij\"+id);\r\n      return \"odbij\"+id;\r\n    },\r\n\r\n    ApproveRegistration(id){\r\n      console.log(\"approve dugme\");\r\n      console.log(id);\r\n      RegistrationRequestService.approveRegistration(id).then((response) => {\r\n        this.answer = response.data\r\n        console.log(response.data);\r\n      }).catch(function (error) {\r\n        console.log(error.toJSON());\r\n        if (error.response) {\r\n          // The request was made and the server responded with a status code\r\n          // that falls out of the range of 2xx\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n        } else if (error.request) {\r\n          // The request was made but no response was received\r\n          // error.request is an instance of XMLHttpRequest in the browser and an instance of\r\n          // http.ClientRequest in node.js\r\n          console.log(error.request);\r\n        } else {\r\n          // Something happened in setting up the request that triggered an Error\r\n          console.log('Error', error.message);\r\n        }\r\n        console.log(error.config);\r\n\r\n      });\r\n      document.getElementById(\"prihvati\"+id).style.visibility=\"hidden\";\r\n      document.getElementById(id).innerText = \"Uspešno ste prihvatili registraciju.\"\r\n\r\n      document.getElementById(\"odbij\"+id).style.visibility=\"hidden\";\r\n\r\n    },\r\n\r\n    RejectRegistration(id, text){\r\n      console.log(\"reject dugme\");\r\n      console.log(id);\r\n      console.log(text);\r\n\r\n      RegistrationRequestService.rejectRegistration(id, text).then((response) => {\r\n        this.answer = response.data\r\n        console.log(response.data);\r\n      }).catch(function (error) {\r\n        console.log(error.toJSON());\r\n        if (error.response) {\r\n          // The request was made and the server responded with a status code\r\n          // that falls out of the range of 2xx\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n        } else if (error.request) {\r\n          // The request was made but no response was received\r\n          // error.request is an instance of XMLHttpRequest in the browser and an instance of\r\n          // http.ClientRequest in node.js\r\n          console.log(error.request);\r\n        } else {\r\n          // Something happened in setting up the request that triggered an Error\r\n          console.log('Error', error.message);\r\n        }\r\n        console.log(error.config);\r\n      });\r\n      document.getElementById(\"prihvati\"+id).style.visibility=\"hidden\";\r\n      document.getElementById(id).innerText = \"Uspešno ste odbili registraciju.\";\r\n      document.getElementById(id).style.color=\"red\";\r\n      document.getElementById(\"odbij\"+id).style.visibility=\"hidden\";\r\n\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      shipOwner: \"Vlasnik broda\",\r\n      cottageOwner: \"Vlasnik vikendice\",\r\n      fishingInstructor: \"Instruktor pecanja\",\r\n      answer:false,\r\n      modalHeader:\"Obrazloženje za odbijanje registraceije naloga\"\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}