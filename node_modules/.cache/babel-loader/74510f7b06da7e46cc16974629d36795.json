{"ast":null,"code":"import clientReservationHistoryList from \"@/components/clientReservationHistoryList\";\nimport clientHeader from \"@/components/clientHeader\";\nimport clientServce from \"@/servieces/ClientServce\";\nexport default {\n  name: \"clientReservationHistory\",\n  components: {\n    clientReservationHistoryList,\n    clientHeader\n  },\n  props: ['option_link', 'image_path', 'text'],\n  created: function () {\n    this.fromElement = 0;\n    this.type = this.$route.params.type;\n    console.log(this.type);\n    if (this.type == \"ship\") this.cottageReservationHistory = [{\n      reviewed: false,\n      id: 1,\n      startDate: \"09.05.2022\",\n      endDate: \"11.05.2022\",\n      price: 1500,\n      quickReservation: true,\n      additionalServices: [\"prvi element\", \"drugi element\"],\n      canceled: false,\n      images: [require(\"@/assets/img/ship/1/11.jpg\"), \"./img/ship/1/12.jpg\", \"./img/ship/1/13.jpg\", \"./img/ship/1/14.jpg\"],\n      name: \"HOPPPPAA\",\n      address: {\n        country: \"Serbia\",\n        city: \"Novi Sad\",\n        address: \"Cirila i Metodija\"\n      },\n      description: \"Najbolja zabava\"\n    }, {\n      reviewed: true,\n      id: 2,\n      startDate: \"01.04.2022\",\n      endDate: \"8.04.2022\",\n      price: 2000,\n      quickReservation: false,\n      additionalServices: [\"wifi\", \"parking\"],\n      canceled: true,\n      images: [require(\"@/assets/img/ship/2/21.jpg\"), \"./img/ship/2/22.jpg\", \"./img/ship/2/23.jpg\", \"./img/ship/2/24.jpg\"],\n      name: \"Naslov 2\",\n      address: {\n        country: \"Serbia\",\n        city: \"Novi Sad\",\n        address: \"Cirila i Metodija\"\n      },\n      description: \"Ovde nađeš šta ti treba\"\n    }, {\n      reviewed: true,\n      id: 3,\n      startDate: \"01.04.2022\",\n      endDate: \"8.04.2022\",\n      price: 2000,\n      quickReservation: false,\n      additionalServices: [\"wifi\", \"parking\"],\n      canceled: false,\n      images: [require(\"@/assets/img/ship/3/31.jpg\"), \"./img/ship/3/32.jpg\", \"./img/ship/3/33.jpg\", \"./img/ship/3/34.jpg\"],\n      name: \"Glupi naslovi\",\n      address: {\n        country: \"Serbia\",\n        city: \"Novi Sad\",\n        address: \"Cirila i Metodija\"\n      },\n      description: \"Tu smo za vas\"\n    }, {\n      reviewed: false,\n      id: 4,\n      startDate: \"01.04.2022\",\n      endDate: \"8.04.2022\",\n      price: 2000,\n      quickReservation: true,\n      additionalServices: [\"wifi\", \"parking\"],\n      canceled: false,\n      images: [require(\"@/assets/img/ship/4/41.jpg\"), \"./img/ship/4/42.jpg\", \"./img/ship/4/43.jpg\", \"./img/ship/4/44.jpg\"],\n      name: \"Nešto\",\n      address: {\n        country: \"Serbia\",\n        city: \"Novi Sad\",\n        address: \"Cirila i Metodija\"\n      },\n      description: \"Neki descr\"\n    }, {\n      reviewed: false,\n      id: 5,\n      startDate: \"01.04.2022\",\n      endDate: \"8.04.2022\",\n      price: 2000,\n      quickReservation: true,\n      additionalServices: [\"wifi\", \"parking\"],\n      canceled: false,\n      images: [require(\"@/assets/img/ship/5/51.jpg\"), \"./img/ship/5/52.jpg\", \"./img/ship/5/53.jpg\", \"./img/ship/5/54.jpg\"],\n      name: \"Nešto\",\n      address: {\n        country: \"Serbia\",\n        city: \"Novi Sad\",\n        address: \"Cirila i Metodija\"\n      },\n      description: \"Neki descr\"\n    }];else if (this.type == \"cottage\") clientServce.getPastCottageReservations(JSON.parse(localStorage.user).id).then(response => {\n      this.cottageReservationHistory = response.data;\n    });\n  },\n  methods: {\n    itemReviewed(itemID) {\n      console.log(itemID);\n\n      for (let offer of this.cottageReservationHistory) {\n        console.log(offer);\n\n        if (offer.id == itemID) {\n          offer.reviewed = true;\n        }\n      }\n    },\n\n    forceRemounting() {\n      this.myKey -= 1;\n    },\n\n    sortList() {\n      //axios\n      this.fromElement = 0;\n      this.forceRemounting();\n      console.log(document.getElementById(\"sortBy\").value);\n      let sortBy = document.getElementById(\"sortBy\").value;\n\n      if (sortBy == 3) {\n        clientServce.getSortedPastCottageReservationsByName(JSON.parse(localStorage.user).id).then(response => {\n          this.cottageReservationHistory = response.data;\n          this.forceRemounting();\n        });\n      } else if (sortBy == 1) {\n        clientServce.getSortedPastCottageReservationsByDate(JSON.parse(localStorage.user).id).then(response => {\n          this.cottageReservationHistory = response.data;\n          this.forceRemounting();\n        });\n      } else if (sortBy == 2) {\n        clientServce.getSortedPastCottageReservationsByDuration(JSON.parse(localStorage.user).id).then(response => {\n          this.cottageReservationHistory = response.data;\n          this.forceRemounting();\n        });\n      } else if (sortBy == 4) {\n        clientServce.getSortedPastCottageReservationsByPrice(JSON.parse(localStorage.user).id).then(response => {\n          this.cottageReservationHistory = response.data;\n          this.forceRemounting();\n        });\n      }\n    },\n\n    makeMiddleNumber() {\n      let numPages = this.cottageReservationHistory.length / this.numberOfElementsForDisplay;\n      return Math.ceil(numPages / 2);\n    },\n\n    makeLastNumber() {\n      let numPages = this.cottageReservationHistory.length / this.numberOfElementsForDisplay;\n      return Math.round(numPages);\n    },\n\n    makeFirstLink() {\n      this.fromElement = 0;\n      this.forceRemounting();\n    },\n\n    makeMiddleLink() {\n      this.fromElement = (this.makeMiddleNumber() - 1) * this.numberOfElementsForDisplay;\n      this.forceRemounting();\n    },\n\n    makeLastLink() {\n      this.fromElement = (this.makeLastNumber() - 1) * this.numberOfElementsForDisplay;\n      this.forceRemounting();\n    },\n\n    makePreviousLink() {\n      let previousFrom = parseInt(this.fromElement) - parseInt(this.numberOfElementsForDisplay);\n      if (previousFrom < 0) return;\n      this.fromElement = previousFrom;\n      this.forceRemounting();\n    },\n\n    makeNextLink() {\n      let nextFrom = parseInt(this.fromElement) + parseInt(this.numberOfElementsForDisplay);\n      if (nextFrom > parseInt(this.cottageReservationHistory.length)) return;\n      this.fromElement = nextFrom;\n      this.forceRemounting();\n    },\n\n    checkIfNeedsToBeDisplayed(index) {\n      let untilElement = parseInt(this.numberOfElementsForDisplay) + parseInt(this.fromElement);\n      console.log(index);\n      console.log(this.fromElement);\n      console.log(untilElement);\n\n      if (index >= this.fromElement && index < untilElement) {\n        return true;\n      }\n\n      return false;\n    }\n\n  },\n\n  data() {\n    return {\n      myKey: 0,\n      cottageReservationHistory: [],\n      numberOfElementsForDisplay: 2\n    };\n  }\n\n};","map":{"version":3,"mappings":"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","names":["clientReservationHistoryList","clientHeader","clientServce","name","components","props","created","fromElement","type","$route","params","console","log","cottageReservationHistory","reviewed","id","startDate","endDate","price","quickReservation","additionalServices","canceled","images","require","address","country","city","description","getPastCottageReservations","JSON","parse","localStorage","user","then","response","data","methods","itemReviewed","itemID","offer","forceRemounting","myKey","sortList","document","getElementById","value","sortBy","getSortedPastCottageReservationsByName","getSortedPastCottageReservationsByDate","getSortedPastCottageReservationsByDuration","getSortedPastCottageReservationsByPrice","makeMiddleNumber","numPages","length","numberOfElementsForDisplay","Math","ceil","makeLastNumber","round","makeFirstLink","makeMiddleLink","makeLastLink","makePreviousLink","previousFrom","parseInt","makeNextLink","nextFrom","checkIfNeedsToBeDisplayed","index","untilElement"],"sourceRoot":"","sources":["D:\\fakultet\\6.semestar\\MRS\\Projekat\\projekat-login\\projekat\\mrs-isa-front\\src\\components\\clientReservationHistory.vue"],"sourcesContent":["<template>\r\n  <div style=\"overflow-scrolling: auto\">\r\n    <clientHeader></clientHeader>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-8\">\r\n      </div>\r\n      <div class=\"col-3 justify-content-right\" >\r\n        <select id=\"sortBy\" @change=\"sortList\" class=\"form-select\" aria-label=\"Default select\">\r\n          <option selected>Sortiraj po</option>\r\n          <option value=\"1\">Datum</option>\r\n          <option value=\"2\">Trajanja</option>\r\n          <option value=\"3\">Naziv</option>\r\n          <option value=\"4\">Cena</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div>\r\n      <clientReservationHistoryList @reviewed=\"itemReviewed\" :key=\"myKey\" :numToDisplay=\"numberOfElementsForDisplay\" :from=\"fromElement\" :cottagesHistory=\"cottageReservationHistory\"> </clientReservationHistoryList>\r\n    </div>\r\n\r\n    <nav class=\"d-flex justify-content-center\" aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\">\r\n        <li class=\"page-item\">\r\n          <button class=\"page-link\" @click=\"makePreviousLink\" aria-label=\"Previous\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </button>\r\n        </li>\r\n\r\n        <li class=\"page-item\"><button class=\"page-link\" @click=\"makeFirstLink\">1</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" disabled>...</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" @click=\"makeMiddleLink\">{{makeMiddleNumber()}}</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" disabled>...</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" @click=\"makeLastLink\">{{makeLastNumber()}}</button></li>\r\n\r\n        <li class=\"page-item\">\r\n          <button class=\"page-link\" @click=\"makeNextLink\" aria-label=\"Next\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport clientReservationHistoryList from \"@/components/clientReservationHistoryList\";\r\nimport clientHeader from \"@/components/clientHeader\";\r\nimport clientServce from \"@/servieces/ClientServce\";\r\nexport default {\r\n  name: \"clientReservationHistory\",\r\n  components:{\r\n    clientReservationHistoryList,\r\n    clientHeader\r\n  },\r\n  props: ['option_link', 'image_path', 'text'],\r\n  created: function() {\r\n    this.fromElement = 0;\r\n    this.type = this.$route.params.type;\r\n    console.log(this.type);\r\n    if (this.type == \"ship\")\r\n      this.cottageReservationHistory = [\r\n        {\r\n          reviewed: false,\r\n          id: 1,\r\n          startDate:\"09.05.2022\",\r\n          endDate:\"11.05.2022\",\r\n          price:1500,\r\n          quickReservation:true,\r\n          additionalServices: [\"prvi element\", \"drugi element\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/1/11.jpg\"), \"./img/ship/1/12.jpg\",\r\n            \"./img/ship/1/13.jpg\", \"./img/ship/1/14.jpg\"],\r\n          name: \"HOPPPPAA\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Najbolja zabava\"\r\n        },{\r\n          reviewed: true,\r\n          id: 2,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:false,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: true,\r\n          images: [require(\"@/assets/img/ship/2/21.jpg\"), \"./img/ship/2/22.jpg\",\r\n            \"./img/ship/2/23.jpg\", \"./img/ship/2/24.jpg\"],\r\n          name: \"Naslov 2\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Ovde nađeš šta ti treba\"\r\n        },{\r\n          reviewed: true,\r\n          id: 3,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:false,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/3/31.jpg\"), \"./img/ship/3/32.jpg\",\r\n            \"./img/ship/3/33.jpg\", \"./img/ship/3/34.jpg\"],\r\n          name: \"Glupi naslovi\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Tu smo za vas\"\r\n        },{\r\n          reviewed: false,\r\n          id: 4,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:true,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/4/41.jpg\"), \"./img/ship/4/42.jpg\",\r\n            \"./img/ship/4/43.jpg\", \"./img/ship/4/44.jpg\"],\r\n          name: \"Nešto\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Neki descr\"\r\n        },{\r\n          reviewed: false,\r\n          id: 5,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:true,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/5/51.jpg\"), \"./img/ship/5/52.jpg\",\r\n            \"./img/ship/5/53.jpg\", \"./img/ship/5/54.jpg\"],\r\n          name: \"Nešto\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Neki descr\"\r\n        },\r\n      ]\r\n    else if (this.type == \"cottage\")\r\n      clientServce.getPastCottageReservations(JSON.parse(localStorage.user).id)\r\n          .then((response) => {\r\n            this.cottageReservationHistory = response.data;\r\n            }\r\n      );\r\n\r\n  },\r\n  methods : {\r\n    itemReviewed(itemID){\r\n      console.log(itemID);\r\n      for (let offer of this.cottageReservationHistory){\r\n        console.log(offer);\r\n        if (offer.id == itemID){\r\n          offer.reviewed = true;\r\n        }\r\n      }\r\n    },\r\n    forceRemounting(){\r\n      this.myKey -= 1;\r\n    },\r\n    sortList(){\r\n      //axios\r\n      this.fromElement = 0;\r\n      this.forceRemounting();\r\n      console.log(document.getElementById(\"sortBy\").value);\r\n      let sortBy = document.getElementById(\"sortBy\").value;\r\n      if (sortBy == 3){\r\n        clientServce.getSortedPastCottageReservationsByName(JSON.parse(localStorage.user).id)\r\n            .then(response =>{\r\n              this.cottageReservationHistory = response.data;\r\n              this.forceRemounting();\r\n            })\r\n      } else if (sortBy == 1){\r\n        clientServce.getSortedPastCottageReservationsByDate(JSON.parse(localStorage.user).id)\r\n            .then(response =>{\r\n              this.cottageReservationHistory = response.data;\r\n              this.forceRemounting();\r\n            })\r\n      }else if (sortBy == 2){\r\n        clientServce.getSortedPastCottageReservationsByDuration(JSON.parse(localStorage.user).id)\r\n            .then(response =>{\r\n              this.cottageReservationHistory = response.data;\r\n              this.forceRemounting();\r\n            })\r\n      }else if (sortBy == 4){\r\n        clientServce.getSortedPastCottageReservationsByPrice(JSON.parse(localStorage.user).id)\r\n            .then(response =>{\r\n              this.cottageReservationHistory = response.data;\r\n              this.forceRemounting();\r\n            })\r\n      }\r\n    },\r\n    makeMiddleNumber(){\r\n      let numPages = this.cottageReservationHistory.length / this.numberOfElementsForDisplay;\r\n      return Math.ceil(numPages / 2);\r\n    },\r\n    makeLastNumber(){\r\n      let numPages = this.cottageReservationHistory.length / this.numberOfElementsForDisplay;\r\n      return Math.round(numPages);\r\n    },\r\n    makeFirstLink(){\r\n      this.fromElement = 0;\r\n      this.forceRemounting();\r\n    },\r\n    makeMiddleLink(){\r\n      this.fromElement = (this.makeMiddleNumber()-1) * this.numberOfElementsForDisplay;\r\n      this.forceRemounting();\r\n    },\r\n    makeLastLink(){\r\n      this.fromElement = (this.makeLastNumber()-1) * this.numberOfElementsForDisplay;\r\n      this.forceRemounting();\r\n    },\r\n    makePreviousLink(){\r\n      let previousFrom = parseInt(this.fromElement) - parseInt(this.numberOfElementsForDisplay);\r\n      if (previousFrom < 0)\r\n        return\r\n      this.fromElement = previousFrom;\r\n      this.forceRemounting();\r\n    },\r\n    makeNextLink(){\r\n      let nextFrom = parseInt(this.fromElement) + parseInt(this.numberOfElementsForDisplay);\r\n      if (nextFrom > parseInt(this.cottageReservationHistory.length))\r\n        return\r\n      this.fromElement = nextFrom;\r\n      this.forceRemounting();\r\n    },\r\n    checkIfNeedsToBeDisplayed(index){\r\n      let untilElement = parseInt(this.numberOfElementsForDisplay) + parseInt(this.fromElement);\r\n      console.log(index);\r\n      console.log(this.fromElement);\r\n      console.log(untilElement);\r\n      if (index >= this.fromElement && index < untilElement){\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      myKey: 0,\r\n      cottageReservationHistory: [],\r\n      numberOfElementsForDisplay: 2\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}