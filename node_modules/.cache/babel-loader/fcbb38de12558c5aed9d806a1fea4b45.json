{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ol_view = _resolveComponent(\"ol-view\");\n\n  const _component_ol_source_osm = _resolveComponent(\"ol-source-osm\");\n\n  const _component_ol_tile_layer = _resolveComponent(\"ol-tile-layer\");\n\n  const _component_ol_zoom_control = _resolveComponent(\"ol-zoom-control\");\n\n  const _component_ol_zoomslider_control = _resolveComponent(\"ol-zoomslider-control\");\n\n  const _component_ol_attribution_control = _resolveComponent(\"ol-attribution-control\");\n\n  const _component_ol_geom_point = _resolveComponent(\"ol-geom-point\");\n\n  const _component_ol_style_icon = _resolveComponent(\"ol-style-icon\");\n\n  const _component_ol_style = _resolveComponent(\"ol-style\");\n\n  const _component_ol_feature = _resolveComponent(\"ol-feature\");\n\n  const _component_ol_source_vector = _resolveComponent(\"ol-source-vector\");\n\n  const _component_ol_vector_layer = _resolveComponent(\"ol-vector-layer\");\n\n  const _component_ol_map = _resolveComponent(\"ol-map\");\n\n  return _openBlock(), _createBlock(_component_ol_map, {\n    id: $props.index,\n    loadTilesWhileAnimating: true,\n    loadTilesWhileInteracting: true,\n    style: {\n      \"height\": \"400px\"\n    },\n    moveTolerance: 4,\n    onClick: $options.registerClick,\n    ref: \"map\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_ol_view, {\n      ref: \"view\",\n      center: $setup.center,\n      rotation: $setup.rotation,\n      zoom: $setup.zoom,\n      projection: $setup.projection,\n      onZoomChanged: $options.zoomChanged,\n      onCenterChanged: $options.centerChanged\n    }, null, 8\n    /* PROPS */\n    , [\"center\", \"rotation\", \"zoom\", \"projection\", \"onZoomChanged\", \"onCenterChanged\"]), _createVNode(_component_ol_tile_layer, null, {\n      default: _withCtx(() => [_createVNode(_component_ol_source_osm)]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_ol_zoom_control), _createVNode(_component_ol_zoomslider_control), _createVNode(_component_ol_attribution_control), _createVNode(_component_ol_vector_layer, null, {\n      default: _withCtx(() => [_createVNode(_component_ol_source_vector, null, {\n        default: _withCtx(() => [_createVNode(_component_ol_feature, null, {\n          default: _withCtx(() => [_createVNode(_component_ol_geom_point, {\n            coordinates: $setup.coordinate\n          }, null, 8\n          /* PROPS */\n          , [\"coordinates\"]), _createVNode(_component_ol_style, null, {\n            default: _withCtx(() => [_createVNode(_component_ol_style_icon, {\n              src: $setup.pointer,\n              scale: 0.1\n            }, null, 8\n            /* PROPS */\n            , [\"src\", \"scale\"])]),\n            _: 1\n            /* STABLE */\n\n          })]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"id\", \"onClick\"]);\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;uBACEA,aA+BSC,iBA/BT,EA+BS;AA/BAC,MAAE,EAAEC,YA+BJ;AA/BYC,2BAAuB,EAAE,IA+BrC;AA/B4CC,6BAAyB,EAAE,IA+BvE;AA/B6EC,SAAoB,EAApB;AAAA;AAAA,KA+B7E;AA9BAC,iBAAa,EAAE,CA8Bf;AA9BmBC,WAAK,EAAEC,sBA8B1B;AA9ByCC,OAAG,EAAC;AA8B7C,GA/BT;sBAGE,MAEyC,CAFzCC,aAEyCC,kBAFzC,EAEyC;AAFhCF,SAAG,EAAC,MAE4B;AAFpBG,YAAM,EAAEC,aAEY;AAFHC,cAAQ,EAAED,eAEP;AAFkBE,UAAI,EAAEF,WAExB;AAD/BG,gBAAU,EAAEH,iBACmB;AADNI,mBAAW,EAAET,oBACP;AAA/BU,qBAAa,EAAEV;AAAgB,KAFzC;;AAAA,uFAEyC,EAEzCE,aAEgBS,wBAFhB,EAEgB,IAFhB,EAEgB;wBADd,MAAiB,CAAjBT,aAAiBU,wBAAjB,CAAiB,EACH;;;;AAAA,KAFhB,CAFyC,EAOzCV,aAAmBW,0BAAnB,CAPyC,EAQzCX,aAAyBY,gCAAzB,CARyC,EASzCZ,aAAyBa,iCAAzB,CATyC,EAazCb,aAWkBc,0BAXlB,EAWkB,IAXlB,EAWkB;wBAVhB,MAQmB,CARnBd,aAQmBe,2BARnB,EAQmB,IARnB,EAQmB;0BAPjB,MAKa,CALbf,aAKagB,qBALb,EAKa,IALb,EAKa;4BAJX,MAAyD,CAAzDhB,aAAyDiB,wBAAzD,EAAyD;AAAzCC,uBAAW,EAAEf;AAA4B,WAAzD,EAAuC,IAAvC,EAAuC;AAAA;AAAvC,YAAuC,eAAvC,CAAyD,EACzDH,aAEWmB,mBAFX,EAEW,IAFX,EAEW;8BADT,MAA2D,CAA3DnB,aAA2DoB,wBAA3D,EAA2D;AAA3CC,iBAAG,EAAElB,cAAsC;AAA5BmB,mBAAK,EAAE;AAAqB,aAA3D;;AAAA,+BAA2D,EAClD;;;;AAAA,WAFX,CADyD,EAI9C;;;;AAAA,SALb,CAKa,EAEI;;;;AAAA,OARnB,CAQmB,EAEH;;;;AAAA,KAXlB,CAbyC;;;;GAL3C;;AAAA","names":["_createBlock","_component_ol_map","id","$props","loadTilesWhileAnimating","loadTilesWhileInteracting","style","moveTolerance","onClick","$options","ref","_createVNode","_component_ol_view","center","$setup","rotation","zoom","projection","onZoomChanged","onCenterChanged","_component_ol_tile_layer","_component_ol_source_osm","_component_ol_zoom_control","_component_ol_zoomslider_control","_component_ol_attribution_control","_component_ol_vector_layer","_component_ol_source_vector","_component_ol_feature","_component_ol_geom_point","coordinates","_component_ol_style","_component_ol_style_icon","src","scale"],"sourceRoot":"","sources":["D:\\fakultet\\6.semestar\\MRS\\Projekat\\projekat-login\\projekat\\mrs-isa-front\\src\\components\\main_site\\birdVueMap.vue"],"sourcesContent":["<template>\r\n  <ol-map :id=\"index\" :loadTilesWhileAnimating=\"true\" :loadTilesWhileInteracting=\"true\" style=\"height:400px\"\r\n          :moveTolerance=\"4\" @click=\"registerClick\" ref=\"map\">\r\n\r\n    <ol-view ref=\"view\" :center=\"center\" :rotation=\"rotation\" :zoom=\"zoom\"\r\n             :projection=\"projection\" @zoomChanged=\"zoomChanged\"\r\n             @centerChanged=\"centerChanged\"/>\r\n\r\n    <ol-tile-layer>\r\n      <ol-source-osm />\r\n    </ol-tile-layer>\r\n\r\n\r\n    <ol-zoom-control />\r\n    <ol-zoomslider-control />\r\n    <ol-attribution-control/>\r\n\r\n\r\n\r\n    <ol-vector-layer>\r\n      <ol-source-vector>\r\n        <ol-feature>\r\n          <ol-geom-point :coordinates=\"coordinate\"></ol-geom-point>\r\n          <ol-style>\r\n            <ol-style-icon :src=\"pointer\" :scale=\"0.1\"></ol-style-icon>\r\n          </ol-style>\r\n        </ol-feature>\r\n\r\n      </ol-source-vector>\r\n\r\n    </ol-vector-layer>\r\n\r\n  </ol-map>\r\n</template>\r\n\r\n<script>\r\nimport 'vue3-openlayers';\r\nimport {inject, ref} from 'vue'\r\n//https://vue3openlayers.netlify.app/\r\nexport default {\r\n  name: \"bird-vue-map\",\r\n  props: ['lon', 'lat', 'index'],\r\n  methods:{\r\n    registerClick(event) {\r\n      let lonlat = this.map.getCoordinateFromPixel(event.pixel);\r\n      this.center = lonlat;\r\n      this.coordinate = lonlat;\r\n      this.$emit('coordinate-changed', lonlat[0], lonlat[1]);\r\n    },\r\n    zoomChanged(currentZoom) {\r\n      this.currentZoom = currentZoom;\r\n    },\r\n    centerChanged(center) {\r\n      this.currentCenter = center;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.center = [this.lon, this.lat];\r\n    this.coordinate = [this.lon, this.lat];\r\n  },\r\n  setup() {\r\n    const center = ref([0,0]);\r\n    const projection = ref('EPSG:4326');\r\n    const zoom = ref(4);\r\n    const rotation = ref(0);\r\n    const view = ref(null);\r\n    const map = ref(null);\r\n    const radius = ref(10);\r\n    const strokeWidth = ref(10)\r\n    const strokeColor = ref('red')\r\n    const fillColor = ref('white')\r\n    const coordinate = ref([0,0])\r\n\r\n    const pointer = require(\"@/assets/pin.png\");\r\n\r\n    const url = ref(\"https://openlayers.org/en/latest/examples/data/geojson/countries.geojson\")\r\n\r\n    const format = inject('ol-format');\r\n    console.log(format)\r\n    const geoJson = new format.GeoJSON();\r\n\r\n    return {\r\n      center,\r\n      projection,\r\n      zoom,\r\n      rotation,\r\n      map,\r\n      view,\r\n      pointer,\r\n      url,\r\n      geoJson,\r\n      radius,\r\n      strokeWidth,\r\n      strokeColor,\r\n      fillColor,\r\n      coordinate\r\n\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentCenter: this.center,\r\n      currentZoom: this.zoom,\r\n    }\r\n  },\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}