{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes: [{\n    path: '/client/home',\n    component: () => import(\"./components/clientHomePage.vue\")\n  }, {\n    path: '/client/profile',\n    component: () => import(\"./components/clientProfileChange.vue\")\n  }, {\n    path: '/client/history/:type',\n    component: () => import(\"./components/clientReservationHistory.vue\")\n  }, {\n    path: '/client/verify/:code',\n    component: () => import(\"./components/clientVerified.vue\")\n  }, {\n    path: '/instructor/adventures',\n    component: () => import(\"./components/allInstructorsAdventures\")\n  }, {\n    path: '/instructor/adventures/detail',\n    component: () => import(\"./components/adventureForFishingInstructor\")\n  }, {\n    path: '/book/site/home',\n    component: () => import(\"./components/homePage.vue\")\n  }, {\n    path: '/book/site/login',\n    component: () => import(\"./components/login.vue\")\n  }, {\n    path: '/book/site/register',\n    component: () => import(\"./components/registerUser.vue\")\n  }, {\n    path: '/owner/profile',\n    component: () => import(\"./components/editProfileOwner\")\n  }, {\n    path: '/cottage/home',\n    component: () => import(\"./components/cottageOwnerHomePage\")\n  }, {\n    path: '/owner/managment',\n    component: () => import(\"./components/managmentOwner\")\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/book/site/login', '/book/site/register', '/book/site/home'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user'); // trying to access a restricted page + not logged in\n  // redirect to login page\n\n  if (authRequired && !loggedIn) {\n    next('/book/site/home');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"sources":["D:/fakultet/6.semestar/MRS/Projekat/projekat-login/projekat/mrs-isa-front/src/router.js"],"names":["createRouter","createWebHistory","router","history","process","env","BASE_URL","routes","path","component","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":"AAAA,SAAQA,YAAR,EAAsBC,gBAAtB,QAA6C,YAA7C;AAEA,MAAMC,MAAM,GAAGF,YAAY,CAAC;AACxBG,EAAAA,OAAO,EAAEF,gBAAgB,CAACG,OAAO,CAACC,GAAR,CAAYC,QAAb,CADD;AAExBC,EAAAA,MAAM,EAAC,CACH;AAAEC,IAAAA,IAAI,EAAE,cAAR;AAAwBC,IAAAA,SAAS,EAAE,MAAM,OAAO,iCAAP;AAAzC,GADG,EAEH;AAAED,IAAAA,IAAI,EAAE,iBAAR;AAA2BC,IAAAA,SAAS,EAAE,MAAM,OAAO,sCAAP;AAA5C,GAFG,EAGH;AAAED,IAAAA,IAAI,EAAE,uBAAR;AAAiCC,IAAAA,SAAS,EAAE,MAAM,OAAO,2CAAP;AAAlD,GAHG,EAIH;AAAED,IAAAA,IAAI,EAAE,sBAAR;AAAgCC,IAAAA,SAAS,EAAE,MAAM,OAAO,iCAAP;AAAjD,GAJG,EAMH;AAAED,IAAAA,IAAI,EAAE,wBAAR;AAAkCC,IAAAA,SAAS,EAAE,MAAM,OAAO,uCAAP;AAAnD,GANG,EAOH;AAAED,IAAAA,IAAI,EAAE,+BAAR;AAAyCC,IAAAA,SAAS,EAAE,MAAM,OAAO,4CAAP;AAA1D,GAPG,EAQH;AAAED,IAAAA,IAAI,EAAE,iBAAR;AAA2BC,IAAAA,SAAS,EAAE,MAAM,OAAO,2BAAP;AAA5C,GARG,EASH;AAAED,IAAAA,IAAI,EAAE,kBAAR;AAA4BC,IAAAA,SAAS,EAAE,MAAM,OAAO,wBAAP;AAA7C,GATG,EAUH;AAAED,IAAAA,IAAI,EAAG,qBAAT;AAAgCC,IAAAA,SAAS,EAAE,MAAM,OAAO,+BAAP;AAAjD,GAVG,EAYH;AAAED,IAAAA,IAAI,EAAE,gBAAR;AAA0BC,IAAAA,SAAS,EAAE,MAAM,OAAO,+BAAP;AAA3C,GAZG,EAaH;AAAED,IAAAA,IAAI,EAAE,eAAR;AAAyBC,IAAAA,SAAS,EAAE,MAAM,OAAO,mCAAP;AAA1C,GAbG,EAcH;AAAED,IAAAA,IAAI,EAAE,kBAAR;AAA4BC,IAAAA,SAAS,EAAE,MAAM,OAAO,6BAAP;AAA7C,GAdG;AAFiB,CAAD,CAA3B;AAqBAP,MAAM,CAACQ,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;AAClC,QAAMC,WAAW,GAAG,CAAC,kBAAD,EAAqB,qBAArB,EAA4C,iBAA5C,CAApB;AACA,QAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACH,IAAxB,CAAtB;AACA,QAAMS,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHkC,CAIlC;AACA;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC3BJ,IAAAA,IAAI,CAAC,iBAAD,CAAJ;AACH,GAFD,MAEO;AACHA,IAAAA,IAAI;AACP;AACJ,CAXD;AAaA,eAAeX,MAAf","sourcesContent":["import {createRouter, createWebHistory} from \"vue-router\";\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(process.env.BASE_URL),\r\n    routes:[\r\n        { path: '/client/home', component: () => import(\"./components/clientHomePage.vue\")},\r\n        { path: '/client/profile', component: () => import(\"./components/clientProfileChange.vue\")},\r\n        { path: '/client/history/:type', component: () => import(\"./components/clientReservationHistory.vue\")},\r\n        { path: '/client/verify/:code', component: () => import(\"./components/clientVerified.vue\") },\r\n\r\n        { path: '/instructor/adventures', component: () => import(\"./components/allInstructorsAdventures\")},\r\n        { path: '/instructor/adventures/detail', component: () => import(\"./components/adventureForFishingInstructor\")},\r\n        { path: '/book/site/home', component: () => import(\"./components/homePage.vue\")},\r\n        { path: '/book/site/login', component: () => import(\"./components/login.vue\")},\r\n        { path:  '/book/site/register', component: () => import(\"./components/registerUser.vue\")},\r\n\r\n        { path: '/owner/profile', component: () => import(\"./components/editProfileOwner\")},\r\n        { path: '/cottage/home', component: () => import(\"./components/cottageOwnerHomePage\")},\r\n        { path: '/owner/managment', component: () => import(\"./components/managmentOwner\")}\r\n    ]\r\n});\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const publicPages = ['/book/site/login', '/book/site/register', '/book/site/home'];\r\n    const authRequired = !publicPages.includes(to.path);\r\n    const loggedIn = localStorage.getItem('user');\r\n    // trying to access a restricted page + not logged in\r\n    // redirect to login page\r\n    if (authRequired && !loggedIn) {\r\n        next('/book/site/home');\r\n    } else {\r\n        next();\r\n    }\r\n});\r\n\r\nexport default router\r\n"]},"metadata":{},"sourceType":"module"}