{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"overflow-scrolling\": \"auto\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-8\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  class: \"col-3 justify-content-right\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"option\", {\n  selected: \"\"\n}, \"Sortiraj po\", -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"1\"\n}, \"Datum\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"2\"\n}, \"Trajanja\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"3\"\n}, \"Naziv\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [_hoisted_5, _hoisted_6, _hoisted_7, _hoisted_8];\nconst _hoisted_10 = {\n  class: \"d-flex justify-content-center\",\n  \"aria-label\": \"Page navigation example\"\n};\nconst _hoisted_11 = {\n  class: \"pagination\"\n};\nconst _hoisted_12 = {\n  class: \"page-item\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"«\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  class: \"page-item\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"page-item\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"page-link\",\n  disabled: \"\"\n}, \"...\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = {\n  class: \"page-item\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"page-item\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"page-link\",\n  disabled: \"\"\n}, \"...\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = {\n  class: \"page-item\"\n};\nconst _hoisted_20 = {\n  class: \"page-item\"\n};\n\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"»\", -1\n/* HOISTED */\n);\n\nconst _hoisted_22 = [_hoisted_21];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_clientHeader = _resolveComponent(\"clientHeader\");\n\n  const _component_clientReservationHistoryList = _resolveComponent(\"clientReservationHistoryList\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_clientHeader), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"select\", {\n    id: \"sortBy\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.sortList && $options.sortList(...args)),\n    class: \"form-select\",\n    \"aria-label\": \"Default select\"\n  }, _hoisted_9, 32\n  /* HYDRATE_EVENTS */\n  )])]), _createElementVNode(\"div\", null, [(_openBlock(), _createBlock(_component_clientReservationHistoryList, {\n    onReviewed: $options.itemReviewed,\n    key: $data.myKey,\n    numToDisplay: $data.numberOfElementsForDisplay,\n    from: _ctx.fromElement,\n    cottagesHistory: _ctx.cottageReservationHistory\n  }, null, 8\n  /* PROPS */\n  , [\"onReviewed\", \"numToDisplay\", \"from\", \"cottagesHistory\"]))]), _createElementVNode(\"nav\", _hoisted_10, [_createElementVNode(\"ul\", _hoisted_11, [_createElementVNode(\"li\", _hoisted_12, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.makePreviousLink && $options.makePreviousLink(...args)),\n    \"aria-label\": \"Previous\"\n  }, _hoisted_14)]), _createElementVNode(\"li\", _hoisted_15, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.makeFirstLink && $options.makeFirstLink(...args))\n  }, \"1\")]), _hoisted_16, _createElementVNode(\"li\", _hoisted_17, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.makeMiddleLink && $options.makeMiddleLink(...args))\n  }, _toDisplayString($options.makeMiddleNumber()), 1\n  /* TEXT */\n  )]), _hoisted_18, _createElementVNode(\"li\", _hoisted_19, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.makeLastLink && $options.makeLastLink(...args))\n  }, _toDisplayString($options.makeLastNumber()), 1\n  /* TEXT */\n  )]), _createElementVNode(\"li\", _hoisted_20, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.makeNextLink && $options.makeNextLink(...args)),\n    \"aria-label\": \"Next\"\n  }, _hoisted_22)])])])]);\n}","map":{"version":3,"mappings":"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","names":["style","class","_createElementVNode","selected","value","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_13","disabled","_hoisted_21","_createElementBlock","_createVNode","_component_clientHeader","_hoisted_3","id","onChange","$options","_createBlock","_component_clientReservationHistoryList","onReviewed","key","$data","numToDisplay","from","_ctx","cottagesHistory","onClick","_hoisted_16","_hoisted_18"],"sourceRoot":"","sources":["D:\\fakultet\\6.semestar\\MRS\\Projekat\\projekat-login\\projekat\\mrs-isa-front\\src\\components\\clientReservationHistory.vue"],"sourcesContent":["<template>\r\n  <div style=\"overflow-scrolling: auto\">\r\n    <clientHeader></clientHeader>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-8\">\r\n      </div>\r\n      <div class=\"col-3 justify-content-right\" >\r\n        <select id=\"sortBy\" @change=\"sortList\" class=\"form-select\" aria-label=\"Default select\">\r\n          <option selected>Sortiraj po</option>\r\n          <option value=\"1\">Datum</option>\r\n          <option value=\"2\">Trajanja</option>\r\n          <option value=\"3\">Naziv</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div>\r\n      <clientReservationHistoryList @reviewed=\"itemReviewed\" :key=\"myKey\" :numToDisplay=\"numberOfElementsForDisplay\" :from=\"fromElement\" :cottagesHistory=\"cottageReservationHistory\"> </clientReservationHistoryList>\r\n    </div>\r\n\r\n    <nav class=\"d-flex justify-content-center\" aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\">\r\n        <li class=\"page-item\">\r\n          <button class=\"page-link\" @click=\"makePreviousLink\" aria-label=\"Previous\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </button>\r\n        </li>\r\n\r\n        <li class=\"page-item\"><button class=\"page-link\" @click=\"makeFirstLink\">1</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" disabled>...</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" @click=\"makeMiddleLink\">{{makeMiddleNumber()}}</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" disabled>...</button></li>\r\n        <li class=\"page-item\"><button class=\"page-link\" @click=\"makeLastLink\">{{makeLastNumber()}}</button></li>\r\n\r\n        <li class=\"page-item\">\r\n          <button class=\"page-link\" @click=\"makeNextLink\" aria-label=\"Next\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport clientReservationHistoryList from \"@/components/clientReservationHistoryList\";\r\nimport clientHeader from \"@/components/clientHeader\";\r\nimport clientServce from \"@/servieces/ClientServce\";\r\nexport default {\r\n  name: \"clientReservationHistory\",\r\n  components:{\r\n    clientReservationHistoryList,\r\n    clientHeader\r\n  },\r\n  props: ['option_link', 'image_path', 'text'],\r\n  created: function() {\r\n    this.fromElement = 0;\r\n    this.type = this.$route.params.type;\r\n    console.log(this.type);\r\n    if (this.type == \"ship\")\r\n      this.cottageReservationHistory = [\r\n        {\r\n          reviewed: false,\r\n          id: 1,\r\n          startDate:\"09.05.2022\",\r\n          endDate:\"11.05.2022\",\r\n          price:1500,\r\n          quickReservation:true,\r\n          additionalServices: [\"prvi element\", \"drugi element\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/1/11.jpg\"), \"./img/ship/1/12.jpg\",\r\n            \"./img/ship/1/13.jpg\", \"./img/ship/1/14.jpg\"],\r\n          name: \"HOPPPPAA\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Najbolja zabava\"\r\n        },{\r\n          reviewed: true,\r\n          id: 2,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:false,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: true,\r\n          images: [require(\"@/assets/img/ship/2/21.jpg\"), \"./img/ship/2/22.jpg\",\r\n            \"./img/ship/2/23.jpg\", \"./img/ship/2/24.jpg\"],\r\n          name: \"Naslov 2\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Ovde nađeš šta ti treba\"\r\n        },{\r\n          reviewed: true,\r\n          id: 3,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:false,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/3/31.jpg\"), \"./img/ship/3/32.jpg\",\r\n            \"./img/ship/3/33.jpg\", \"./img/ship/3/34.jpg\"],\r\n          name: \"Glupi naslovi\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Tu smo za vas\"\r\n        },{\r\n          reviewed: false,\r\n          id: 4,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:true,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/4/41.jpg\"), \"./img/ship/4/42.jpg\",\r\n            \"./img/ship/4/43.jpg\", \"./img/ship/4/44.jpg\"],\r\n          name: \"Nešto\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Neki descr\"\r\n        },{\r\n          reviewed: false,\r\n          id: 5,\r\n          startDate:\"01.04.2022\",\r\n          endDate:\"8.04.2022\",\r\n          price:2000,\r\n          quickReservation:true,\r\n          additionalServices: [\"wifi\", \"parking\"],\r\n          canceled: false,\r\n          images: [require(\"@/assets/img/ship/5/51.jpg\"), \"./img/ship/5/52.jpg\",\r\n            \"./img/ship/5/53.jpg\", \"./img/ship/5/54.jpg\"],\r\n          name: \"Nešto\",\r\n          address:\r\n              {\r\n                country: \"Serbia\",\r\n                city: \"Novi Sad\",\r\n                address: \"Cirila i Metodija\"\r\n              },\r\n          description: \"Neki descr\"\r\n        },\r\n      ]\r\n    else if (this.type == \"cottage\")\r\n      clientServce\r\n      this.cottageReservationHistory = clientServce.getPastCottageReservations(JSON.parse(localStorage.user).id);\r\n\r\n  },\r\n  methods : {\r\n    itemReviewed(itemID){\r\n      console.log(itemID);\r\n      for (let offer of this.cottageReservationHistory){\r\n        console.log(offer);\r\n        if (offer.id == itemID){\r\n          offer.reviewed = true;\r\n        }\r\n      }\r\n    },\r\n    forceRemounting(){\r\n      this.myKey -= 1;\r\n    },\r\n    sortList(){\r\n      //axios\r\n      this.fromElement = 0;\r\n      this.forceRemounting();\r\n      console.log(document.getElementById(\"sortBy\").value);\r\n    },\r\n    makeMiddleNumber(){\r\n      let numPages = this.cottageReservationHistory.length / this.numberOfElementsForDisplay;\r\n      return Math.ceil(numPages / 2);\r\n    },\r\n    makeLastNumber(){\r\n      let numPages = this.cottageReservationHistory.length / this.numberOfElementsForDisplay;\r\n      return Math.round(numPages);\r\n    },\r\n    makeFirstLink(){\r\n      this.fromElement = 0;\r\n      this.forceRemounting();\r\n    },\r\n    makeMiddleLink(){\r\n      this.fromElement = (this.makeMiddleNumber()-1) * this.numberOfElementsForDisplay;\r\n      this.forceRemounting();\r\n    },\r\n    makeLastLink(){\r\n      this.fromElement = (this.makeLastNumber()-1) * this.numberOfElementsForDisplay;\r\n      this.forceRemounting();\r\n    },\r\n    makePreviousLink(){\r\n      let previousFrom = parseInt(this.fromElement) - parseInt(this.numberOfElementsForDisplay);\r\n      if (previousFrom < 0)\r\n        return\r\n      this.fromElement = previousFrom;\r\n      this.forceRemounting();\r\n    },\r\n    makeNextLink(){\r\n      let nextFrom = parseInt(this.fromElement) + parseInt(this.numberOfElementsForDisplay);\r\n      if (nextFrom > parseInt(this.cottageReservationHistory.length))\r\n        return\r\n      this.fromElement = nextFrom;\r\n      this.forceRemounting();\r\n    },\r\n    checkIfNeedsToBeDisplayed(index){\r\n      let untilElement = parseInt(this.numberOfElementsForDisplay) + parseInt(this.fromElement);\r\n      console.log(index);\r\n      console.log(this.fromElement);\r\n      console.log(untilElement);\r\n      if (index >= this.fromElement && index < untilElement){\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      myKey: 0,\r\n\r\n      numberOfElementsForDisplay: 2\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}